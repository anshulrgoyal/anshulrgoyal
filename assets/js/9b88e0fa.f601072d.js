(self.webpackChunkanshulrgoyal=self.webpackChunkanshulrgoyal||[]).push([[3684],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),p=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(i.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,h=d["".concat(i,".").concat(m)]||d[m]||u[m]||o;return n?r.createElement(h,l(l({ref:t},c),{},{components:n})):r.createElement(h,l({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=d;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var p=2;p<o;p++)l[p]=n[p];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7714:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return p},toc:function(){return c},default:function(){return d}});var r=n(2122),a=n(9756),o=(n(7294),n(3905)),l=["components"],s={title:"Setting A React Project From Scratch Using Babel And Webpack",slug:"react-setup",author:"Anshul Goyal",author_url:"https://github.com/anshulrgoyal",author_image_url:"/img/anshul.jpg",tags:["react","webpack","babel"],image:"https://cdn-images-1.medium.com/max/2400/1*c5BkVEjwpew7yjKixdIdYQ.png"},i=void 0,p={permalink:"/anshulrgoyal/blog/react-setup",source:"@site/blog/2019-01-15-react-setup.md",title:"Setting A React Project From Scratch Using Babel And Webpack",description:"There are many tools for getting a boilerplate code generated available for reactjs. The most popular tool used by many developers is create-react-app, which comes with many configuration options.",date:"2019-01-15T00:00:00.000Z",formattedDate:"January 15, 2019",tags:[{label:"react",permalink:"/anshulrgoyal/blog/tags/react"},{label:"webpack",permalink:"/anshulrgoyal/blog/tags/webpack"},{label:"babel",permalink:"/anshulrgoyal/blog/tags/babel"}],readingTime:7.47,truncated:!0,prevItem:{title:"Scraping with NodeJS and Cheerio",permalink:"/anshulrgoyal/blog/scrapping-nodejs"},nextItem:{title:"A Practical Guide for JWT Authentication Using Node.js and Express",permalink:"/anshulrgoyal/blog/jwt-auth"}},c=[{value:"Content",id:"content",children:[]},{value:"Introduction",id:"introduction",children:[{value:"Webpack",id:"webpack",children:[]},{value:"Babel",id:"babel",children:[]}]},{value:"Requirements",id:"requirements",children:[]},{value:"Let us configure the webpacks",id:"let-us-configure-the-webpacks",children:[]},{value:"Creating Our Sample Project",id:"creating-our-sample-project",children:[]},{value:"Configuring the babel",id:"configuring-the-babel",children:[]},{value:"Configuring WebPack for Babel And Other Loaders",id:"configuring-webpack-for-babel-and-other-loaders",children:[{value:"Using JS files",id:"using-js-files",children:[]},{value:"Using CSS files",id:"using-css-files",children:[]},{value:"Using Static assets",id:"using-static-assets",children:[]}]},{value:"Running dev server",id:"running-dev-server",children:[]},{value:"Conclusion",id:"conclusion",children:[{value:"Bonus",id:"bonus",children:[]}]}],u={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,l);return(0,o.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"There are many tools for getting a boilerplate code generated available for reactjs. The most popular tool used by many developers is create-react-app, which comes with many configuration options."),(0,o.kt)("h2",{id:"content"},"Content"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Introduction to babel and webpack")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Configuring webpack")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Using babel with webpack")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Using css and file loader with webpack")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Using webpack dev server"))),(0,o.kt)("h2",{id:"introduction"},"Introduction"),(0,o.kt)("p",null,"This guide will show how can we set up own react project using babel and webpack. We would configure webpack to use babel to compile the jsx to js and run a development server for serving the compiled files."),(0,o.kt)("h3",{id:"webpack"},"Webpack"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Webpack is used to compile JavaScript modules. Once ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/guides/installation"},"installed"),", you can interface with webpack either from its ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/api/cli"},"CLI")," or ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/api/node"},"API"),". If you\u2019re still new to webpack, please read through the ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/concepts"},"core concepts")," and ",(0,o.kt)("a",{parentName:"p",href:"https://webpack.js.org/comparison"},"this comparison")," to learn why you might use it over the other tools that are out in the community.")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2152/1*Cw2D3JxVQQGgb_Y-GJsrzw.png",alt:"This what webpack do"}),(0,o.kt)("em",{parentName:"p"},"This what webpack do")),(0,o.kt)("p",null,"Webpack takes all our dependencies and converts to static resources so that it can be served to the client. The bundling is very important because most browsers limit the number of the request for resources to 6 or 7 requests. Bundling helps us to avoid sending unnecessary modules as a bonus. Webpack uses an internal cache to load the module only once and the precious bandwidth is saved resulting in faster loading time."),(0,o.kt)("h3",{id:"babel"},"Babel"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Babel is a toolchain that is mainly used to convert ECMAScript 2015+ code into a backward compatible version of JavaScript in current and older browsers or environments.Babel can convert JSX syntax! Check out our ",(0,o.kt)("a",{parentName:"p",href:"https://babeljs.io/docs/en/babel-preset-react"},"React preset")," to get started")),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2000/1*5PCr7PAmMvp60hLehhEcow.jpeg",alt:"Convert jsx to js"}),(0,o.kt)("em",{parentName:"p"},"Convert jsx to js")),(0,o.kt)("p",null,"Babbel is used to convert the jsx to js. ",(0,o.kt)("strong",{parentName:"p"},"JSX "),"is short form javascript XML syntax, it provides us with an easy way for writing react code."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'import React from "react";\n\nfunction App(props){\n return(\n  <div>\n     <b>Hello world!</b>\n   </div>\n )\n}\n')),(0,o.kt)("p",null,"With the use of jsx, it is easy to read and write react code. Here is the sample of code without jsx."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _react = require("react");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction App(props) {\n  return _react2.default.createElement(\n    "div",\n    null,\n    _react2.default.createElement(\n      "b",\n      null,\n      "Hello world!"\n    )\n  );\n}\n\nexports.default = App;\n')),(0,o.kt)("p",null,"It is very difficult to read this code and it is more error-prone whereas jsx provides us nice HTML like syntax."),(0,o.kt)("h2",{id:"requirements"},"Requirements"),(0,o.kt)("p",null,"To set our project we would require these npm modules"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"react "),"the react library")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"react-dom")," this library helps us to use react in the browser")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"@babel/core")," it is used to transpile the jsx to js")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"@babel/preset-env")," it used to configure the transpiler for old browser")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"@babel/preset-react")," it is used to configure the transpiler for react.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"babel-loader")," it is used to configure the webpack for using babel")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"css-loader")," it is used to configure the webpack for compiling the css")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"webpack")," it is used to bundle all the modules")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"webpack-cli")," it is used to run webpack from cli")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"style-loader")," it loads all the css in the head of HTML")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"webpack-dev-server")," it used to serve the compiled file."))),(0,o.kt)("p",null,"We can use npm or yarn to install these dependencies"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install --save-dev @babel/core @babel/preset-env @babel/preset-react babel-loader css-loader webpack webpack-cli style-loader webpack-dev-server\n")),(0,o.kt)("p",null,"The root of the project contains an src folder with index.js as entry file."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2000/1*VxmofL6rbNDTMuu-V2bxXg.png",alt:"Project Structure"}),(0,o.kt)("em",{parentName:"p"},"Project Structure")),(0,o.kt)("p",null,"The folder componentscontains all the component for the project and dist folder all the code that is compiled."),(0,o.kt)("h2",{id:"let-us-configure-the-webpacks"},"Let us configure the webpacks"),(0,o.kt)("p",null,"The webpacks are an extremely configurable piece of software we can pass arguments to cli command or create a configuration file named webpack.config.js . We should export an object with configuration property."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\nentry: "./src/index.js",\nmode: "development",\noutput: {\n    filename: "./main.js"\n  },\n}\n')),(0,o.kt)("p",null,"The entry specify the root of the source code of the project. The mode specify the type of environment for the compilation tells where the compiled file should be placed."),(0,o.kt)("h2",{id:"creating-our-sample-project"},"Creating Our Sample Project"),(0,o.kt)("p",null,"Our project has an index.html in dist folder and the structure of the HTML is"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'<!DOCTYPE html>\n<html lang="en" dir="ltr">\n  <head>\n    <meta charset="utf-8">\n    <title>React From Scratch</title>\n  </head>\n  <body>\n    <div id="root">\n    </div>\n  </body>\n  <script type="text/javascript" src="/main.js">\n\n<\/script>\n</html>\n')),(0,o.kt)("p",null,"The HTML contains the script tag pointing to our main compiled file and when the file is compiled it is included in the HTML. Then we should install react and react-dom packages."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"npm install react react-dom\n")),(0,o.kt)("p",null,"Now index.js which is standard react rendering the file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'import React, { Component } from "react";\nimport ReactDOM from "react-dom";\nimport App from "./component/app.component";\n\nReactDOM.render(<App />, document.querySelector("#root"));\n')),(0,o.kt)("p",null,"app.component.js"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'import React, { Component } from "react";\nimport s from "./app.component.css";\nclass MyComponent extends Component {\n  render() {\n    return <div className={s.intro}>Hello World</div>;\n  }\n}\n\nexport default MyComponent;\n')),(0,o.kt)("p",null,"app.component.css"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},".intro {\n  background-color: yellow;\n}\n")),(0,o.kt)("h2",{id:"configuring-the-babel"},"Configuring the babel"),(0,o.kt)("p",null,"Babel is configured using the presets which can be used to transpile almost any web technology including less to css, jsx to js, typescript to js many more. We would only use two preset react and env . We can configure babel using cli, file or package.json file, we would use package.json for configuration. Preset are like modules which help to transpile one language to other."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'"babel": {\n    "presets": [\n      "[@babel/env](http://twitter.com/babel/env)",\n      "[@babel/react](http://twitter.com/babel/react)"\n    ]\n  }\n')),(0,o.kt)("p",null,"We would add these lines to the package.json file, it would let the babel know that these preset should be used for transpile. Now we should configure webpack to use babel."),(0,o.kt)("h2",{id:"configuring-webpack-for-babel-and-other-loaders"},"Configuring WebPack for Babel And Other Loaders"),(0,o.kt)("p",null,"Now we would use babel-loader for using babel with webpack and webpack provide us hooks to process the files before it is processed and these are called module and are easy to configure."),(0,o.kt)("h3",{id:"using-js-files"},"Using JS files"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'module: {\n    rules: [\n      {\n        test: /\\.m?js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: "babel-loader"\n        }\n      },\n    ]\n}\n')),(0,o.kt)("p",null,"The rules are array used to specifying what should be done when this type of file is encountered. The key testspecifies the regex for the file, we use it to select all the files with extension .m and .js and exclude the folder node_module and bower_components because we don\u2019t what to transpile the node_module files then we specify the babel-loader to be used.Now our javascript files will be compiled by babel then processed by the webpack."),(0,o.kt)("h3",{id:"using-css-files"},"Using CSS files"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'module: {\n    rules: [\n      {\n        test: /\\.m?js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: "babel-loader"\n        }\n      },\n      {\n        test: /\\.css$/,\n        use: [\n          "style-loader",\n          {\n            loader: "css-loader",\n            options: {\n              modules: true\n            }\n          }\n        ]\n      },\n   ]\n}\n')),(0,o.kt)("p",null,"We would use style-loader and css-loader for this task. The use key can also take an array of the objects or string. The loaders are run from last to first, therefore our file will first go to css-loader, we have specified the option of using modules, which make our css exclusive to the only component in which it is imported. The css-loader would resolve all the import in the css files and then the style-loader would add these in the form of style tag in the head."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"<style>\n<-- your css --\x3e\n</style>\n")),(0,o.kt)("h3",{id:"using-static-assets"},"Using Static assets"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'module: {\n    rules: [\n      {\n        test: /\\.m?js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: "babel-loader"\n        }\n      },\n      {\n        test: /\\.css$/,\n        use: [\n          "style-loader",\n          {\n            loader: "css-loader",\n            options: {\n              modules: true\n            }\n          }\n        ]\n      },\n      {\n        test: /\\.(png|svg|jpg|gif)$/,\n        use: ["file-loader"]\n      }\n    ]\n  }\n')),(0,o.kt)("p",null,"If we encounter png, svg, jpg or gif file we would use file-loader for handling these files. It is very important to handle these file carefully and optimize files loading mechanism."),(0,o.kt)("h2",{id:"running-dev-server"},"Running dev server"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'devServer: {\n    contentBase: path.join(__dirname, "dist"),\n    compress: true,\n    port: 9000,\n    watchContentBase: true,\n    progress: true\n  },\n')),(0,o.kt)("p",null,"The module provides us with a very easy and configurable method of running our development server. contentBase the entry point for our compiled resources which is index.html port tells on which port the server is listening. watchContentBase is very interesting, it tells the server to watch for the changes in the files directory in the contentBase folder."),(0,o.kt)("p",null,"Let start are server using package.json file."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'"scripts": {\n    "dev": "webpack-dev-server",\n    "start": "webpack"\n  },\n')),(0,o.kt)("p",null,"We can now run npm run dev for starting our web server."),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://cdn-images-1.medium.com/max/2730/1*CmmepdGek45hcI9HFrja8w.png",alt:"Output running at the port 9000"}),(0,o.kt)("em",{parentName:"p"},"Output running at the port 9000")),(0,o.kt)("h2",{id:"conclusion"},"Conclusion"),(0,o.kt)("p",null,"This is just an overview of how we can configure webpack and babel for reactjs. This is just a tip of the iceberg, you can configure this to use less instead of css or typescript instead of the js, minify the css files etc."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"You have to use the loader for each type of file you use.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"We can now use any technology with webpack using loaders like less, typescript, jsx.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"When you set up your own react project it is pretty easy to customize and optimize it and upgrade dependency."))),(0,o.kt)("h3",{id:"bonus"},"Bonus"),(0,o.kt)("p",null,"The example from my blog. ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/anshulgoyal15/react-from-scratch"},(0,o.kt)("strong",{parentName:"a"},"anshulgoyal15/react-from-scratch"))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"All the example for you ;)")))}d.isMDXComponent=!0}}]);