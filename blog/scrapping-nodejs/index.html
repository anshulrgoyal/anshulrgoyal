<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/anshulrgoyal/blog/rss.xml" title="Anshul Goyal Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/anshulrgoyal/blog/atom.xml" title="Anshul Goyal Blog Atom Feed"><title data-react-helmet="true">Scraping with NodeJS and Cheerio | Anshul Goyal</title><meta data-react-helmet="true" property="og:title" content="Scraping with NodeJS and Cheerio | Anshul Goyal"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="Everybody says that python is best for scraping but I always wonder why we don&#x27;t use NodeJs for Scraping?"><meta data-react-helmet="true" property="og:description" content="Everybody says that python is best for scraping but I always wonder why we don&#x27;t use NodeJs for Scraping?"><meta data-react-helmet="true" property="og:url" content="https://anshulrgoyal.github.io/anshulrgoyal/blog/scrapping-nodejs"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:image" content="https://unsplash.com/@ayahya09?utm_source=medium&amp;utm_medium=referral"><meta data-react-helmet="true" name="twitter:image" content="https://unsplash.com/@ayahya09?utm_source=medium&amp;utm_medium=referral"><link data-react-helmet="true" rel="shortcut icon" href="/anshulrgoyal/img/anshul.jpg"><link data-react-helmet="true" rel="canonical" href="https://anshulrgoyal.github.io/anshulrgoyal/blog/scrapping-nodejs"><link data-react-helmet="true" rel="alternate" href="https://anshulrgoyal.github.io/anshulrgoyal/blog/scrapping-nodejs" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://anshulrgoyal.github.io/anshulrgoyal/blog/scrapping-nodejs" hreflang="x-default"><link rel="stylesheet" href="/anshulrgoyal/assets/css/styles.056d3a92.css">
<link rel="preload" href="/anshulrgoyal/assets/js/runtime~main.113fc30b.js" as="script">
<link rel="preload" href="/anshulrgoyal/assets/js/main.56fd1749.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" role="banner"><div class="announcementBarContent_3EUC announcementBarCloseable_3myR">I am looking for a JOB.</div><button type="button" class="announcementBarClose_38nx clean-btn" aria-label="Close"><span aria-hidden="true">Ã—</span></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/anshulrgoyal/"><b class="navbar__title">Anshul Goyal</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/anshulrgoyal/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/anshulrgoyal/projects">Conributions</a><a href="https://github.com/anshulrgoyal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/anshulrgoyal/"><b class="navbar__title">Anshul Goyal</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/anshulrgoyal/projects">Conributions</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/anshulrgoyal/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/anshulrgoyal" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/anshulrgoyal/blog/deno-plugin">How to create a Deno plugin in Rust</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/anshulrgoyal/blog/macro-rust">An intro to macros in rust</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/anshulrgoyal/blog/mlh-fellowship">MLH Fellowship: A new way of learning</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/anshulrgoyal/blog/easy-documentation-docusaurus">Easy Documentation using Docusaurus</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/anshulrgoyal/blog/rust-auth-lib">The state of Rust: Authorization/authentication libraries</a></li></ul></nav></aside><main class="col col--7"><article><header><h1 class="blogPostTitle_GeHD">Scraping with NodeJS and Cheerio</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2019-01-20T00:00:00.000Z">January 20, 2019</time> Â· 6 min read</div><div class="avatar margin-vert--md"><a href="https://github.com/anshulrgoyal" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="/img/anshul.jpg" alt="Anshul Goyal"></a><div class="avatar__intro"><div class="avatar__name"><a href="https://github.com/anshulrgoyal" target="_blank" rel="noopener noreferrer">Anshul Goyal</a></div><small class="avatar__subtitle"></small></div></div></header><div class="markdown"><p>Everybody says that python is best for scraping but I always wonder why we don&#x27;t use NodeJs for Scraping?</p><p>The answer is clear scraping is CPU intensive task since NodeJs is single threaded so scraping blocks the main thread. I have one solution for the problem worker threads. We would scrap the IMDB website for the data.</p><p>Our goal is to extract all the data from this <a href="https://www.imdb.com/title/tt2193021/?ref_=nv_sr_1" target="_blank" rel="noopener noreferrer">page</a>. We would scrap all the details of the tv show, all awards won by the tv show, the cast of the tv show, episodes, seasons and much more.</p><p>The data provided from scraping is way more than provided by our script and would be more than provided by any third-party API.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-is-cheerio"></a>What is Cheerio?<a class="hash-link" href="#what-is-cheerio" title="Direct link to heading">#</a></h2><blockquote><p>Fast, flexible, and lean implementation of core jQuery designed specifically for the server.</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">**const** cheerio **=** require(&#x27;cheerio&#x27;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">**const** $ **=** cheerio.load(&#x27;&lt;h2 class=&quot;title&quot;&gt;Hello world&lt;/h2&gt;&#x27;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(&#x27;h2.title&#x27;).text(&#x27;Hello there!&#x27;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(&#x27;h2&#x27;).addClass(&#x27;welcome&#x27;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(&#x27;.title&#x27;).text()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">*//=&gt; Hello there!*</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We can use cheerio to traverse the dom created from the HTML send by the IMDB website and get the required data.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="lets-get-started"></a>Let&#x27;s Get Started<a class="hash-link" href="#lets-get-started" title="Direct link to heading">#</a></h2><p>First, we should install two dependencies cheerio and request.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">npm install cheerio request</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="https://cdn-images-1.medium.com/max/2724/1*nDXNx6CNMzGk7m4kh8X7lg.gif" alt="How To Get CSS Selector on firefox"><em>How To Get CSS Selector on firefox</em></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">const cheerio=require(&#x27;cheerio&#x27;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const htmlString=`&lt;html&gt;&lt;body&gt;&lt;p class=&quot;blessMe&quot;&gt;HI&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;`</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const $=cheerio.load(htmlString)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">// we can use $(&#x27;css selector&#x27;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">const pText=$(&#x27;.blessMe&#x27;).text()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//=&gt; HI</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The cheerio uses syntax very close to JQuery. First, we load or create dom tree from the HTML string using load method on the cheerio and then we can use it for traverse the dom with using CSS selector. \$(&#x27;css selector&#x27;) have many methods.</p><ul><li><p>text: gives the text inside the element (text children of the tree).</p></li><li><p>html: inner HTML of the element.</p></li><li><p>find: find children of the element using CSS selector.</p></li><li><p>attribs : gives the attribute of the element.</p><p>const request = require(&quot;request&quot;);
const cheerio = require(&quot;cheerio&quot;);</p><p>function getFull(id, callback) {
request.get(<code>[https://www.imdb.com/title/${id}/?ref_=fn_al_tt_1</code>](<a href="https://www.imdb.com/title/$%7Bid%7D/?ref_=fn_al_tt_1%60" target="_blank" rel="noopener noreferrer">https://www.imdb.com/title/${id}/?ref_=fn_al_tt_1`</a>), function(
error,
response,
data
) {
const $ = cheerio.load(data);
callback(error, {
story: $(&quot;div.inline:nth-child(3) &gt; p:nth-child(1) &gt; span:nth-child(1)&quot;)
.text()
.trim()
});
});
}</p></li></ul><p>The string div.inline:nth-child(3) &gt; p:nth-child(1) &gt; span:nth-child(1) is found using the firefox or chrome dev tools. In a similar way, we can get data for other fields</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getting-genre-data"></a>Getting Genre Data<a class="hash-link" href="#getting-genre-data" title="Direct link to heading">#</a></h3><p>The data would be an array of string, we would use find method for getting the data. The CSS selector is #titlestory &gt; div:nth-child(10) .</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">genre: $(&quot;#titleStoryLine &gt; div:nth-child(10)&quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .find(&quot;a&quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .text()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .trim()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        .split(&quot; &quot;)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">//=&gt;[ &#x27;Action&#x27;, &#x27;Adventure&#x27;, &#x27;Crime&#x27;, &#x27;Drama&#x27;, &#x27;Mystery&#x27;, &#x27;Sci-Fi&#x27;]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>First, we select the outer div of the genre line then we use find to get all the a tags and extract the text children from all the a tags. Splitting the extracted test gives us our genre.</p><blockquote><p>In the same manner, we can get most of our data.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="getting-image-url"></a>Getting Image URL<a class="hash-link" href="#getting-image-url" title="Direct link to heading">#</a></h3><p>We want are tv show to have a poster we would use attribute for this task. IMDB website uses a technique called late-loading for images. In this technique images are loaded after the whole page is rendered completely, the img tag src the attribute contains a placeholder image. The real source of the image is on the loadlate attribute. The image URL used by IMDB contains a parameter each alters the image quality.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">poster:</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$(&quot;.poster &gt;a:nth-child(1) &gt;img:nth-child(1)&quot;)[0].attribs.src.split(&quot;@._&quot;)[0] + &quot;@._V1_QL50.jpg&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The poster image is given by the src attribute accessed using attribs property. &quot;@._&quot; gives the quality of the image. The best quality is used in given example.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;0&quot;: &quot;@._V1_QL50.jpg&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;1&quot;: &quot;@._V1_UX182_CR0,0,182,268_AL__QL50.jpg&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;2&quot;: &quot;@._V1_UX148_CR0,0,148,216_AL__QL50.jpg&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;3&quot;: &quot;@._V1_UX86_CR0,0,86,86_AL_.jpg&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;4&quot;: &quot;@._V1_UY99_CR43,0,99,99_AL_.jpg&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;5&quot;: &quot;@._V1_UX32_CR0,0,32,44_AL_.jpg&quot;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The lower the number better is quality. Scraping requires an extensive study of the website. Now let us see a loadlate example, now let us try to get the related tv-shows.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">related:Array.from(</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        $(&quot;.rec_poster&quot;).map(function(index, element) {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          const id = $(this)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            .find(&quot;a&quot;)[0]</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            .attribs.href.split(&quot;/&quot;)[2];</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          const _data = $(this).find(&quot;.rec_poster_img&quot;)[0].attribs;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          return {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            id,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            poster: _data.loadlate.trim(),</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            name: _data.title.trim()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          };</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        })</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      )</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The CSS selector is .rec_poster we get all the div in the selector using find and then mapping over the result to give us the required details. The image is taken from the laodlate attribute, not from the src . idis extracted from the link href attribute.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-mobile-site-for-data"></a>Using Mobile Site For Data<a class="hash-link" href="#using-mobile-site-for-data" title="Direct link to heading">#</a></h2><p>Sometimes the desktop website use more JavaScript then it is not possible to use cheerio with it, we might use the mobile site as mobiles usually lack processing power. We would use it for scraping the cast of the tv show.</p><p>The sample data is</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">&quot;cast&quot;: [</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Stephen Amell&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BMTc3MTg0MDMyMV5BMl5BanBnXkFtZTcwMjc2MzQxOA@@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BMTc3MTg0MDMyMV5BMl5BanBnXkFtZTcwMjc2MzQxOA@@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;Oliver Queen/Green Arrow/The Arrow/The Hood/Black Arrow/Elseworlds Flash(161 episodes, 2012-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;David Ramsey&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BMTc1NDI3MDk2M15BMl5BanBnXkFtZTcwNjk4NDg4Mg@@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BMTc1NDI3MDk2M15BMl5BanBnXkFtZTcwNjk4NDg4Mg@@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;John Diggle/Spartan/Green Arrow/The Hood(160 episodes, 2012-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Emily Bett Rickards&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BZTdkZjlmYTQtMGMwNS00Yzk3LTg4YWItMzVlNTY0MmNiMzM3XkEyXkFqcGdeQXVyMjQwMDg0Ng@@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BZTdkZjlmYTQtMGMwNS00Yzk3LTg4YWItMzVlNTY0MmNiMzM3XkEyXkFqcGdeQXVyMjQwMDg0Ng@@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;Felicity Smoak/Overwatch(154 episodes, 2012-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Katie Cassidy&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BMjMyMzA1MTY2MV5BMl5BanBnXkFtZTgwMzIyNzQ3MDE@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BMjMyMzA1MTY2MV5BMl5BanBnXkFtZTgwMzIyNzQ3MDE@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;Laurel Lance/Black Canary/Black Siren(143 episodes, 2012-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Paul Blackthorne&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BMTQ1NjcyODAxMF5BMl5BanBnXkFtZTgwMjc5MDMwNzE@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BMTQ1NjcyODAxMF5BMl5BanBnXkFtZTgwMjc5MDMwNzE@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;Quentin Lance(139 episodes, 2012-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Willa Holland&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BNzgwMDk1NTUxMF5BMl5BanBnXkFtZTcwMTQxODY4Mg@@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BNzgwMDk1NTUxMF5BMl5BanBnXkFtZTcwMTQxODY4Mg@@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;Thea Queen/Speedy(132 episodes, 2012-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;name&quot;: &quot;Echo Kellum&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;image&quot;: &quot;[https://m.media-amazon.com/images/M/MV5BMTg5MTQwMzk2OV5BMl5BanBnXkFtZTgwMzEwNjI0NjE@._V1_QL50.jpg](https://m.media-amazon.com/images/M/MV5BMTg5MTQwMzk2OV5BMl5BanBnXkFtZTgwMzEwNjI0NjE@._V1_QL50.jpg)&quot;,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            &quot;role&quot;: &quot;Curtis Holt/Mr. Terrific(79 episodes, 2015-2019)&quot;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        },</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="from-the-ajax-calls"></a>From The Ajax Calls<a class="hash-link" href="#from-the-ajax-calls" title="Direct link to heading">#</a></h3><p>Often websites use ajax call for fetching data from the server.</p><p><img src="https://cdn-images-1.medium.com/max/2724/1*x5GOERaIdLxLI5NzI_86FQ.gif" alt="Ajax call for the episodes"><em>Ajax call for the episodes</em></p><p>The data from the ajax is faster since the amount of HTML received is much less and bandwidth is also saved. The URL for Ajax is</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://www.imdb.com/title/tt2193021/episodes/_ajax?season=2</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We can make the request to this URL and scrap the data.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="using-worker-thread"></a>Using Worker Thread<a class="hash-link" href="#using-worker-thread" title="Direct link to heading">#</a></h2><p>Worker threads are still in the experimental phase but we can test them in NodeJS 11.x without the experimental flag.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="observing-page-behavior"></a>Observing Page Behavior<a class="hash-link" href="#observing-page-behavior" title="Direct link to heading">#</a></h2><p>There is a good chance that the targeted page uses some sort of network call either be it HTTP, HTTPS, WebSocket or the other protocol if you are lucky it is in JSON format and you can simply format the JSON and get the required data. But in some case, the data can be XML or even worse JavaScript wrapper around the data, you can always parse the JavaScript in the sandbox. But if reverse engineer the page properly, extracting data is a piece of cake.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>It is just an overview of how to scrap the data from a different website. We discussed a few technique and methods. You may use many other tools like the puppeteer for scraping data from the pages which rely highly on the client side JavaScript.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bonus"></a>Bonus<a class="hash-link" href="#bonus" title="Direct link to heading">#</a></h2><p>All the Example For You ;)
<a href="https://github.com/anshulgoyal15/scrap-me" target="_blank" rel="noopener noreferrer"><strong>anshulgoyal15/scrap-me</strong><em>Example from my blog. Contribute to anshulgoyal15/scrap-me development by creating an account on GitHub.</em>github.com</a></p><p>All the Example are from My scraper
<a href="https://www.npmjs.com/package/imdb-scrapper" target="_blank" rel="noopener noreferrer"><strong>imdb-scrapper</strong><em>scrap data from imdb web site</em>www.npmjs.com</a></p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><a class="margin-horiz--sm" href="/anshulrgoyal/blog/tags/cheerio">cheerio</a><a class="margin-horiz--sm" href="/anshulrgoyal/blog/tags/nodejs">nodejs</a><a class="margin-horiz--sm" href="/anshulrgoyal/blog/tags/scrapping">scrapping</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/anshulrgoyal/blog/react-formik"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Creating Forms In React With Formik And Yup</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/anshulrgoyal/blog/react-setup"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Setting A React Project From Scratch Using Babel And Webpack Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-cheerio" class="table-of-contents__link">What is Cheerio?</a></li><li><a href="#lets-get-started" class="table-of-contents__link">Let&#39;s Get Started</a><ul><li><a href="#getting-genre-data" class="table-of-contents__link">Getting Genre Data</a></li><li><a href="#getting-image-url" class="table-of-contents__link">Getting Image URL</a></li></ul></li><li><a href="#using-mobile-site-for-data" class="table-of-contents__link">Using Mobile Site For Data</a><ul><li><a href="#from-the-ajax-calls" class="table-of-contents__link">From The Ajax Calls</a></li></ul></li><li><a href="#using-worker-thread" class="table-of-contents__link">Using Worker Thread</a></li><li><a href="#observing-page-behavior" class="table-of-contents__link">Observing Page Behavior</a></li><li><a href="#conclusion" class="table-of-contents__link">Conclusion</a></li><li><a href="#bonus" class="table-of-contents__link">Bonus</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">About</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/anshulrgoyal/projects">Contributions</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://dev.to/anshulgoyal15/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Dev.to<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://medium.com/@ar_goyal" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Medium<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/anshul-goyal-8aa479135/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/ar_goyal" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/anshulrgoyal/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/anshulrgoyal" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Anshul Goyal. Built with Docusaurus.</div></div></div></footer></div>
<script src="/anshulrgoyal/assets/js/runtime~main.113fc30b.js"></script>
<script src="/anshulrgoyal/assets/js/main.56fd1749.js"></script>
</body>
</html>